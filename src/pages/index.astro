---
import { getCollection } from "astro:content";
import Container from "@components/Container.astro";
import PageLayout from "@layouts/PageLayout.astro";
import ArrowCard from "@components/ArrowCard.astro";
import Link from "@components/Link.astro";
import { SITE, HOME, SOCIALS } from "@consts";
//

const blog = (await getCollection("blog"))
  .filter(post => !post.data.draft)
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
  .slice(0,SITE.NUM_POSTS_ON_HOMEPAGE);

/* const projects = (await getCollection("projects"))
  .filter(project => !project.data.draft)
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
  .slice(0,SITE.NUM_PROJECTS_ON_HOMEPAGE);

const allwork = (await getCollection("work"))
  .sort((a, b) => new Date(b.data.dateStart).valueOf() - new Date(a.data.dateStart).valueOf())
  .slice(0,SITE.NUM_WORKS_ON_HOMEPAGE);

const work = await Promise.all(
  allwork.map(async (item) => {
    const { Content } = await item.render();
    return { ...item, Content };
  })
); */

---

<PageLayout title={HOME.TITLE} description={HOME.DESCRIPTION}>
  <Container>
    <!-- <h4 class="font-semibold text-black dark:text-white">
      Hi, I'm Nano <span class="text-xl">👋🏻</span> 
    </h4> -->
    <div class="space-y-16">
      <section>
        <article class="space-y-4">
          <p class="">
            머리에 휙휙 지나가는 것들을 남기기 위해 글을 씁니다. 퇴고를 최대한 덜 하려고 노력합니다(전문가도 아닌데 자꾸 글에 힘이 들어가네요).
            프론트엔드 개발을 좋아합니다. 하나의 멋진 제품을 만드는걸 좋아합니다.
            취향이 들어가고, 디테일이 있는 것들을 좋아합니다. 밴드셋으로 진행되는 공연과 엘지트윈스를 좋아합니다.
          </p>
          <p class="">
            웹 개발에 대한 이야기 외에도 개인적인 생각과 경험을 씁니다.
            첫 자취를 시작하고 벌써 2년이 되어가는 내 공간, 몇달전 다녀온 여행, 최근에 봤던 여러 공연 이야기도 하고 싶습니다.
            쓰고 싶은 글들이 많아서 블로그를 새로 만들었습니다. 내 눈에 이쁜 기타가 아닌 (가격이 싼) 다른 기타를 사면 괜히 손이 안가는것처럼, 다른 블로그 플랫폼에서는 글쓰는게 일찍 질리더라구요.
            학생 때 쓴 글들은 <Link href="https://github.com/markhorn-dev/astro-nano" aria-label="Astro Nano on Github" external>
              (-2023)
            </Link>에 모아두었습니다.  
          </p>
        </article>
      </section>

      <section class="space-y-6">
        <div class="flex flex-wrap gap-y-2 items-center justify-between">
          <h5 class="font-semibold text-black dark:text-white">
            Recent posts
          </h5>
          <!-- <Link href="/blog">
            See all posts
          </Link> -->
        </div>
        <ul class="flex flex-col">
          {blog.map(post => (
            <li>
              <ArrowCard entry={post} padding="py-1.5" arrow={false}/>
            </li>
          ))}
        </ul>
      </section>

      <!--
      <section class="animate space-y-6">
        <div class="flex flex-wrap gap-y-2 items-center justify-between">
          <h5 class="font-semibold text-black dark:text-white">
            Work Experience
          </h5>
          <Link href="/work">
            See all work
          </Link>
        </div>
        <ul class="flex flex-col space-y-4">
          {work.map(entry => (
            <li>
              <div class="text-sm opacity-75">
                {dateRange(entry.data.dateStart, entry.data.dateEnd)}
              </div>
              <div class="font-semibold text-black dark:text-white">
                {entry.data.company}
              </div>
              <div class="text-sm opacity-75">
                {entry.data.role}
              </div>
              <article>
                <entry.Content />
              </article>
            </li>
          ))}
        </ul>
      </section>
       -->

      <!-- 
      <section class="animate space-y-6">
        <div class="flex flex-wrap gap-y-2 items-center justify-between">
          <h5 class="font-semibold text-black dark:text-white">
            Recent projects
          </h5>
          <Link href="/projects">
            See all projects
          </Link>
        </div>
        <ul class="flex flex-col gap-4">
          {projects.map(project => (
            <li>
              <ArrowCard entry={project} />
            </li>
          ))}
        </ul>
      </section>
      -->

      <section class="space-y-4">
        <h5 class="font-semibold text-black dark:text-white">
          Contacts
        </h5>
        <article>
          <p>
            Just say hi
          </p>
        </article>
        <ul class="flex flex-wrap gap-2">
          <li class="flex gap-x-2 text-nowrap">
            <Link href={SOCIALS[0].HREF} external aria-label={`${SITE.NAME} on ${SOCIALS[0].NAME}`}>
              <svg
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              version="1.1"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              class="fill-black dark:fill-white"
            >
              <path d="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"/>
            </svg>
            </Link>
          </li>
          <li class="flex gap-x-2 text-nowrap">
            <Link href={SOCIALS[1].HREF} external aria-label={`${SITE.NAME} on ${SOCIALS[1].NAME}`}>
              <svg xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"    class="fill-black dark:fill-white">
    <path d="M21,21H17V14.25C17,13.19 15.81,12.31 14.75,12.31C13.69,12.31 13,13.19 13,14.25V21H9V9H13V11C13.66,9.93 15.36,9.24 16.5,9.24C19,9.24 21,11.28 21,13.75V21M7,21H3V9H7V21M5,3A2,2 0 0,1 7,5A2,2 0 0,1 5,7A2,2 0 0,1 3,5A2,2 0 0,1 5,3Z"/>
</svg>
            </Link>
          </li>
        </ul>
      </section>
    </div>
  </Container>
</PageLayout>
